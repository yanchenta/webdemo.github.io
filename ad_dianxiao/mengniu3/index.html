
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0,  minimum-scale=1.0, maximum-scale=1.0" />
        <title></title>
        <link href="css/index.css"  type="text/css" rel="stylesheet" />

        <script>
			
			window.onload = function(){
				addUnfoldHandler('p1','p1img');
				addUnfoldHandler('p2','p2img');
				addUnfoldHandler('p3','p3img');
				addUnfoldHandler('p4','p4img');
				addUnfoldHandler('p5','p5img');
		
			}
		
			function addUnfoldHandler(pie,showObj){
				var pieObj = document.querySelector('.'+pie);
				var stepX,stepY,X,Y;
				pieObj.addEventListener('touchstart',startEvent,false);
				pieObj.addEventListener('touchmove',moveEvent,false);
				pieObj.addEventListener('touchend',endEvent,false);
				function startEvent(event) {
					event.preventDefault();
					if (!event.touches.length) return;
					var touch = event.touches[0];
					X = touch.pageX;
					document.querySelector('.'+showObj).style.display = 'block';
					
				}
				
				function removepicListener(){
					pieObj.removeEventListener('touchstart',startEvent,false);
					pieObj.removeEventListener('touchmove',moveEvent,false);
					pieObj.removeEventListener('touchend',endEvent,false);
				}
			
				function moveEvent(event) {
				   event.preventDefault();
					if (! event.touches.length) return;
					var touch = event.touches[0];
					stepX = touch.pageX;
					stepY = touch.pageY;
					
					if(parseInt(stepX-getImgPosition())>20){
						toggle(document.querySelectorAll('.pimg'));
						document.querySelector('.p1img').style.display = 'block';
					}
					if(parseInt(stepX-getImgPosition())>110){
						toggle(document.querySelectorAll('.pimg'));
						document.querySelector('.p2img').style.display = 'block';
					}
					if(parseInt(stepX-getImgPosition())>135){
						toggle(document.querySelectorAll('.pimg'));
						document.querySelector('.p3img').style.display = 'block';
					}
					
					if(parseInt(stepX-getImgPosition())>180){
						toggle(document.querySelectorAll('.pimg'));
						document.querySelector('.p4img').style.display = 'block';
					}
					if(parseInt(stepX-getImgPosition())>200){
						toggle(document.querySelectorAll('.pimg'));
						document.querySelector('.p5img').style.display = 'block';
					}
	
					
					
					
				}
				function endEvent(event){
				   
					//window.location = "http://www.mengniu.com.cn/";
					toggle(document.querySelectorAll('.pimg'));
					window.location = "http://www.mengniu.com.cn/";
					
				}
			
			} 
			
			function toggle(obj){
				for(var i=0;i<obj.length;i++){
					obj[i].style.display = 'none';
				}
				
			}
			
			//获取右边空白区域

			function getImgPosition(){
				return  document.querySelector('.container').offsetLeft;
	
			}
        </script>
    </head>
    
    <body>
    	
         <div class="container">
        	<figure>
            	<img src="images/bg.jpg" alt="" />
            </figure>
           
           <div class="area">
           		<div class="p1"><div class="pimg p1img" style="display:none;"></div></div>
                <div class="p2"><div class="pimg p2img" style="display:none;"></div></div>
                <div class="p3"><div class="pimg p3img" style="display:none;"></div></div>
                <div class="p4"><div class="pimg p4img" style="display:none;"></div></div>
                <div class="p5"><div class="pimg p5img" style="display:none;"></div></div>
           </div>
           
        </div>
        
    </body>
</html>
